# ScreenG UI設計書 v1.0 - 完全再現定義 (UI+Logic+Style)

Source: ScreenG_DataConversion.vue
Generated: 2025-12-28T07:42:35.078Z


## UI Definition (Template)
1. [UI_Structure] Line:2 <div> Class = "h-full flex flex-col bg-slate-50 relative overflow-hidden"
2. [UI_Structure] Line:4 <div> Class = "absolute top-0 right-0 w-96 h-96 bg-gradient-to-bl from-green-100/50 to-transparent rounded-bl-full pointer-events-none z-0"
3. [UI_Structure] Line:7 <header> Class = "bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between shrink-0 relative z-10"
4. [UI_Structure] Line:8 <div> Class = "flex items-center gap-4"
5. [UI_Structure] Line:9 <div> Class = "bg-green-100 p-2 rounded-lg"
6. [UI_Structure] Line:10 <i> Class = "fa-solid fa-arrow-right-arrow-left text-green-600 text-xl"
7. [UI_Structure] Line:13 <h1> Class = "text-xl font-bold text-slate-800"
8. [UI_Content] Line:13 Text = "会計ソフトデータ変換"
9. [UI_Structure] Line:14 <p> Class = "text-xs text-gray-400"
10. [UI_Content] Line:14 Text = "CSVデータを他社ソフト形式に変換します"
11. [UI_Structure] Line:20 <main> Class = "flex-1 p-8 overflow-y-auto relative z-10"
12. [UI_Structure] Line:21 <div> Class = "max-w-5xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8"
13. [UI_Structure] Line:24 <div> Class = "flex flex-col gap-6"
14. [UI_Structure] Line:26 <div> Class = "bg-white rounded-xl shadow-sm border border-gray-200 p-6"
15. [UI_Structure] Line:27 <h2> Class = "text-sm font-bold text-gray-700 mb-6 flex items-center gap-2"
16. [UI_Structure] Line:28 <span> Class = "bg-slate-800 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs"
17. [UI_Content] Line:28 Text = "1"
18. [UI_Structure] Line:32 <div> Class = "space-y-4"
19. [UI_Structure] Line:35 <label> Class = "block text-xs font-bold text-gray-500 mb-1"
20. [UI_Structure] Line:35 <span> Class = "text-red-500"
21. [UI_Content] Line:35 Text = "顧問先名"
22. [UI_Structure] Line:42 <label> Class = "block text-xs font-bold text-gray-500 mb-1"
23. [UI_Structure] Line:42 <span> Class = "text-xs font-normal text-gray-400"
24. [UI_Content] Line:42 Text = "移行前の会計ソフト名"
25. [UI_Structure] Line:43 <div> Class = "relative"
26. [UI_Structure] Line:46 <i> Class = "fa-solid fa-check text-green-500 absolute right-3 top-3 text-xs animate-bounce-in"
27. [UI_Structure] Line:52 <label> Class = "block text-xs font-bold text-gray-500 mb-2"
28. [UI_Structure] Line:52 <span> Class = "text-red-500"
29. [UI_Content] Line:52 Text = "移行したい会計ソフト名"
30. [UI_Structure] Line:53 <div> Class = "grid grid-cols-3 gap-3"
31. [UI_Structure] Line:54 <label> Class = "cursor-pointer group"
32. [UI_Structure] Line:55 <input> Class = "peer sr-only"
33. [UI_Structure] Line:56 <div> Class = "border-2 border-gray-100 peer-checked:border-yellow-400 peer-checked:bg-yellow-50 rounded-lg p-3 text-center transition group-hover:border-gray-200"
34. [UI_Structure] Line:57 <div> Class = "text-xs font-bold text-slate-700"
35. [UI_Content] Line:57 Text = "弥生会計"
36. [UI_Structure] Line:60 <label> Class = "cursor-pointer group"
37. [UI_Structure] Line:61 <input> Class = "peer sr-only"
38. [UI_Structure] Line:62 <div> Class = "border-2 border-gray-100 peer-checked:border-orange-400 peer-checked:bg-orange-50 rounded-lg p-3 text-center transition group-hover:border-gray-200"
39. [UI_Structure] Line:63 <div> Class = "text-xs font-bold text-slate-700"
40. [UI_Content] Line:63 Text = "マネーフォワード"
41. [UI_Structure] Line:66 <label> Class = "cursor-pointer group"
42. [UI_Structure] Line:67 <input> Class = "peer sr-only"
43. [UI_Structure] Line:68 <div> Class = "border-2 border-gray-100 peer-checked:border-blue-400 peer-checked:bg-blue-50 rounded-lg p-3 text-center transition group-hover:border-gray-200"
44. [UI_Structure] Line:69 <div> Class = "text-xs font-bold text-slate-700"
45. [UI_Content] Line:69 Text = "freee"
46. [UI_Structure] Line:85 <input> Class = "hidden"
47. [UI_Logic] Line:85 <input> Binding: change = "handleFileSelect"
48. [UI_Structure] Line:87 <div> Class = "pointer-events-none"
49. [UI_Structure] Line:88 <div> Class = "bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition duration-300"
50. [UI_Structure] Line:89 <i> Class = "fa-solid fa-cloud-arrow-up text-2xl text-gray-400 group-hover:text-green-500 transition"
51. [UI_Structure] Line:91 <h3> Class = "font-bold text-gray-700 mb-1"
52. [UI_Content] Line:91 Text = "ファイルをここにドラッグ＆ドロップ"
53. [UI_Structure] Line:92 <p> Class = "text-xs text-gray-400 mb-4"
54. [UI_Content] Line:92 Text = "または"
55. [UI_Structure] Line:93 <button> Class = "pointer-events-auto bg-slate-800 text-white px-6 py-2 rounded-full text-xs font-bold hover:bg-slate-700 transition shadow hover:shadow-lg"
56. [UI_Logic] Line:93 <button> Binding: click = "(($refs.fileInput as HTMLInputElement).click())"
57. [UI_Structure] Line:96 <p> Class = "text-[10px] text-gray-400 mt-4"
58. [UI_Content] Line:96 Text = "対応形式: CSV (弥生, freee, MFなど)"
59. [UI_Structure] Line:100 <div> Class = "animate-fade-in"
60. [UI_Structure] Line:101 <div> Class = "bg-blue-50 text-blue-700 p-4 rounded-lg flex items-center justify-between mb-4"
61. [UI_Structure] Line:102 <div> Class = "flex items-center gap-3"
62. [UI_Structure] Line:103 <i> Class = "fa-solid fa-file-csv text-2xl"
63. [UI_Structure] Line:104 <div> Class = "text-left"
64. [UI_Structure] Line:105 <div> Class = "font-bold text-sm"
65. [UI_Content] Line:105 Text = "{{ uploadedFile.name }}"
66. [UI_Structure] Line:106 <div> Class = "text-[10px] opacity-70"
67. [UI_Content] Line:106 Text = "{{ formatFileSize(uploadedFile.size) }}"
68. [UI_Structure] Line:109 <button> Class = "text-blue-400 hover:text-blue-600"
69. [UI_Logic] Line:109 <button> Binding: click = "uploadedFile = null"
70. [UI_Structure] Line:110 <i> Class = "fa-solid fa-xmark"
71. [UI_Structure] Line:116 <i> Class = "fa-solid fa-wand-magic-sparkles"
72. [UI_Structure] Line:121 <div> Class = "absolute inset-0 bg-white/90 flex flex-col items-center justify-center p-6 z-10"
73. [UI_Structure] Line:122 <div> Class = "relative w-20 h-20 mb-4"
74. [UI_Structure] Line:123 <div> Class = "absolute inset-0 border-4 border-gray-100 rounded-full"
75. [UI_Structure] Line:124 <div> Class = "absolute inset-0 border-4 border-green-500 rounded-full border-t-transparent animate-spin"
76. [UI_Structure] Line:125 <i> Class = "fa-solid fa-sync absolute inset-0 m-auto w-fit h-fit text-green-500 animate-pulse"
77. [UI_Structure] Line:127 <h3> Class = "font-bold text-gray-800 text-lg mb-1"
78. [UI_Content] Line:127 Text = "変換処理中..."
79. [UI_Structure] Line:128 <p> Class = "text-xs text-gray-500"
80. [UI_Content] Line:128 Text = "{{ loadingStatus }}"
81. [UI_Structure] Line:134 <div> Class = "flex flex-col h-full"
82. [UI_Structure] Line:135 <div> Class = "bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-full relative overflow-hidden"
83. [UI_Structure] Line:136 <div> Class = "p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"
84. [UI_Structure] Line:137 <h2> Class = "text-sm font-bold text-gray-700 flex items-center gap-2"
85. [UI_Structure] Line:138 <i> Class = "fa-solid fa-clock-rotate-left text-gray-400"
86. [UI_Structure] Line:140 <span> Class = "text-[10px] bg-red-100 text-red-600 px-2 py-0.5 rounded border border-red-200 animate-pulse"
87. [UI_Structure] Line:145 <div> Class = "flex-1 overflow-y-auto p-4 space-y-3"
88. [UI_Structure] Line:146 <div> Class = "h-full flex flex-col items-center justify-center text-gray-300"
89. [UI_Structure] Line:147 <i> Class = "fa-solid fa-box-open text-4xl mb-2"
90. [UI_Structure] Line:148 <p> Class = "text-xs"
91. [UI_Content] Line:148 Text = "履歴はありません"
92. [UI_Structure] Line:154 <div> Class = "flex justify-between items-start mb-2 pl-2"
93. [UI_Structure] Line:157 <div> Class = "flex items-center gap-2 mb-1"
94. [UI_Structure] Line:158 <span> Class = "bg-[#FDE047] text-[#854D0E] text-[10px] font-bold px-1.5 py-0.5 rounded animate-pulse"
95. [UI_Structure] Line:161 <span> Class = "bg-gray-100 text-gray-500 text-[10px] font-bold px-1.5 py-0.5 rounded"
96. [UI_Structure] Line:164 <span> Class = "text-[10px] text-gray-400"
97. [UI_Content] Line:164 Text = "{{ log.timestamp }}"
98. [UI_Structure] Line:166 <div> Class = "font-bold text-sm text-slate-800"
99. [UI_Content] Line:166 Text = "{{ log.clientName }}"
100. [UI_Structure] Line:169 <div> Class = "flex items-center gap-2"
101. [UI_Structure] Line:170 <span> Class = "text-xs font-bold bg-gray-100 px-2 py-1 rounded text-gray-700 transition hover:bg-gray-200"
102. [UI_Content] Line:170 Text = "{{ log.sourceSoftware }}"
103. [UI_Structure] Line:171 <i> Class = "fa-solid fa-arrow-right text-gray-400 text-xs"
104. [UI_Structure] Line:183 <div> Class = "bg-slate-50 rounded p-2 pl-3 flex items-center justify-between group-hover:bg-slate-100 transition"
105. [UI_Structure] Line:184 <div> Class = "flex items-center gap-2 overflow-hidden"
106. [UI_Structure] Line:185 <i> Class = "fa-solid fa-file-csv text-green-600"
107. [UI_Structure] Line:186 <span> Class = "text-xs font-mono text-gray-600 truncate"
108. [UI_Content] Line:186 Text = "{{ log.fileName }}"
109. [UI_Structure] Line:190 <i> Class = "fa-solid fa-download"

## Logic Definition (Script)
110. [Internal_Import_Dependency] Line:204 Code = "import { ref, computed } from 'vue';"
111. [Internal_Import_Dependency] Line:205 Code = "import { useDataConversion } from '@/composables/useDataConversion';"
112. [Internal_Logic_Flow] Line:207 Code = "const { logs, addLog, markAsDownloaded } = useDataConversion();"
113. [Internal_State_Definition] Line:209 Code = "const isDragging = ref(false);"
114. [Internal_State_Definition] Line:210 Code = "const isProcessing = ref(false);"
115. [Internal_Logic_Flow] Line:211 Code = "const uploadedFile = ref<File | null>(null);"
116. [Internal_State_Definition] Line:212 Code = "const loadingStatus = ref('');"
117. [Internal_State_Definition] Line:214 Code = "const form = ref({"
118. [Internal_Logic_Flow] Line:215 Code = "clientName: '',"
119. [Internal_Logic_Flow] Line:216 Code = "sourceSoftware: '',"
120. [Internal_Logic_Flow] Line:217 Code = "targetSoftware: 'Yayoi' // Default"
121. [Internal_Logic_Flow] Line:218 Code = "});"
122. [Internal_Computed_Logic] Line:220 Code = "const canConvert = computed(() => {"
123. [Internal_Logic_Flow] Line:221 Code = "return form.value.clientName && form.value.targetSoftware && uploadedFile.value;"
124. [Internal_Logic_Flow] Line:222 Code = "});"
125. [Internal_Logic_Flow] Line:224 Code = "const getSoftwareLabel = (val: string) => {"
126. [Internal_Logic_Flow] Line:225 Code = "switch(val) {"
127. [Internal_Logic_Flow] Line:226 Code = "case 'Yayoi': return '弥生会計';"
128. [Internal_Logic_Flow] Line:227 Code = "case 'MF': return 'マネーフォワード';"
129. [Internal_Logic_Flow] Line:228 Code = "case 'Freee': return 'freee';"
130. [Internal_Logic_Flow] Line:229 Code = "default: return val;"
131. [Internal_Logic_Flow] Line:230 Code = "}"
132. [Internal_Logic_Flow] Line:231 Code = "};"
133. [Internal_Logic_Flow] Line:233 Code = "const formatFileSize = (bytes: number) => {"
134. [Internal_Logic_Flow] Line:234 Code = "if (bytes === 0) return '0 Bytes';"
135. [Internal_Logic_Flow] Line:235 Code = "const k = 1024;"
136. [Internal_Logic_Flow] Line:236 Code = "const sizes = ['Bytes', 'KB', 'MB'];"
137. [Internal_Logic_Flow] Line:237 Code = "const i = Math.floor(Math.log(bytes) / Math.log(k));"
138. [Internal_Logic_Flow] Line:238 Code = "return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];"
139. [Internal_Logic_Flow] Line:239 Code = "};"
140. [Internal_Logic_Flow] Line:241 Code = "const handleDownload = (id: string) => {"
141. [Internal_Logic_Flow] Line:242 Code = "markAsDownloaded(id);"
142. [Internal_Logic_Flow] Line:243 Code = "};"
143. [Internal_Logic_Flow] Line:245 Code = "const handleDrop = (e: DragEvent) => {"
144. [Internal_Logic_Flow] Line:246 Code = "isDragging.value = false;"
145. [Internal_Logic_Flow] Line:247 Code = "const files = e.dataTransfer?.files;"
146. [Internal_Logic_Flow] Line:248 Code = "if (files && files.length > 0) {"
147. [Internal_Logic_Flow] Line:249 Code = "processFile(files[0]);"
148. [Internal_Logic_Flow] Line:250 Code = "}"
149. [Internal_Logic_Flow] Line:251 Code = "};"
150. [Internal_Logic_Flow] Line:253 Code = "const handleFileSelect = (e: Event) => {"
151. [Internal_Logic_Flow] Line:254 Code = "const target = e.target as HTMLInputElement;"
152. [Internal_Logic_Flow] Line:255 Code = "if (target.files && target.files.length > 0) {"
153. [Internal_Logic_Flow] Line:256 Code = "processFile(target.files[0]);"
154. [Internal_Logic_Flow] Line:257 Code = "}"
155. [Internal_Logic_Flow] Line:258 Code = "};"
156. [Internal_Logic_Flow] Line:260 Code = "const processFile = (file: File) => {"
157. [Internal_Logic_Flow] Line:261 Code = "if (!file.name.toLowerCase().endsWith('.csv')) {"
158. [Internal_Logic_Flow] Line:262 Code = "alert('CSVファイルのみ対応しています');"
159. [Internal_Logic_Flow] Line:263 Code = "return;"
160. [Internal_Logic_Flow] Line:264 Code = "}"
161. [Internal_Logic_Flow] Line:265 Code = "uploadedFile.value = file;"
162. [Internal_Logic_Flow] Line:267 Code = "if (!form.value.sourceSoftware) {"
163. [Internal_Logic_Flow] Line:269 Code = "setTimeout(() => {"
164. [Internal_Logic_Flow] Line:270 Code = "form.value.sourceSoftware = '会計王'; // Mock detected value"
165. [Internal_Logic_Flow] Line:271 Code = "}, 500);"
166. [Internal_Logic_Flow] Line:272 Code = "}"
167. [Internal_Logic_Flow] Line:273 Code = "};"
168. [Internal_Logic_Flow] Line:275 Code = "const startConversion = () => {"
169. [Internal_Logic_Flow] Line:276 Code = "if (!canConvert.value) return;"
170. [Internal_Logic_Flow] Line:278 Code = "isProcessing.value = true;"
171. [Internal_Logic_Flow] Line:279 Code = "loadingStatus.value = 'CSVファイルを解析中...';"
172. [Internal_Logic_Flow] Line:282 Code = "setTimeout(() => { loadingStatus.value = 'フォーマットを標準化しています...'; }, 1000);"
173. [Internal_Logic_Flow] Line:283 Code = "setTimeout(() => { loadingStatus.value = `${getSoftwareLabel(form.value.targetSoftware)}形式へ変換中...`; }, 2000);"
174. [Internal_Logic_Flow] Line:284 Code = "setTimeout(() => { loadingStatus.value = 'ファイルを生成しています...'; }, 3000);"
175. [Internal_Logic_Flow] Line:286 Code = "setTimeout(() => {"
176. [Internal_Logic_Flow] Line:287 Code = "completeConversion();"
177. [Internal_Logic_Flow] Line:288 Code = "}, 4000);"
178. [Internal_Logic_Flow] Line:289 Code = "};"
179. [Internal_Logic_Flow] Line:291 Code = "const completeConversion = () => {"
180. [Internal_Logic_Flow] Line:292 Code = "isProcessing.value = false;"
181. [Internal_Logic_Flow] Line:295 Code = "const today = new Date();"
182. [Internal_Logic_Flow] Line:296 Code = "const yyyymmdd = today.toISOString().slice(0,10).replace(/-/g, '');"
183. [Internal_Logic_Flow] Line:297 Code = "const fileName = `${form.value.clientName}_${form.value.sourceSoftware}_変換後${form.value.targetSoftware}_${yyyymmdd}.csv`;"
184. [Internal_Logic_Flow] Line:300 Code = "const content = '日付,借方勘定科目,借方金額,貸方勘定科目,貸方金額,摘要\n' +"
185. [Internal_Logic_Flow] Line:301 Code = "`2024/12/26,消耗品費,1000,現金,1000,変換テストデータ\n`;"
186. [Internal_Logic_Flow] Line:302 Code = "const blob = new Blob([content], { type: 'text/csv' });"
187. [Internal_Logic_Flow] Line:303 Code = "const url = URL.createObjectURL(blob);"
188. [Internal_Logic_Flow] Line:306 Code = "addLog({"
189. [Internal_Logic_Flow] Line:307 Code = "id: Date.now().toString(),"
190. [Internal_Logic_Flow] Line:308 Code = "timestamp: today.toLocaleString('ja-JP', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' }),"
191. [Internal_Logic_Flow] Line:309 Code = "clientName: form.value.clientName,"
192. [Internal_Logic_Flow] Line:310 Code = "sourceSoftware: form.value.sourceSoftware,"
193. [Internal_Logic_Flow] Line:311 Code = "targetSoftware: form.value.targetSoftware,"
194. [Internal_Logic_Flow] Line:312 Code = "fileName: fileName,"
195. [Internal_Logic_Flow] Line:313 Code = "downloadUrl: url,"
196. [Internal_Logic_Flow] Line:314 Code = "isDownloaded: false"
197. [Internal_Logic_Flow] Line:315 Code = "});"
198. [Internal_Logic_Flow] Line:318 Code = "uploadedFile.value = null;"
199. [Internal_Logic_Flow] Line:319 Code = "alert(`${fileName} の生成が完了しました！`);"
200. [Internal_Logic_Flow] Line:320 Code = "};"

## Style Definition (Style)
201. [Style_Definition] Line:324 CSS = ".animate-slide-in-right {"
202. [Style_Definition] Line:325 CSS = "animation: slideInRight 0.5s ease-out;"
203. [Style_Definition] Line:326 CSS = "}"
204. [Style_Definition] Line:327 CSS = "@keyframes slideInRight {"
205. [Style_Definition] Line:328 CSS = "from { opacity: 0; transform: translateX(20px); }"
206. [Style_Definition] Line:329 CSS = "to { opacity: 1; transform: translateX(0); }"
207. [Style_Definition] Line:330 CSS = "}"
208. [Style_Definition] Line:331 CSS = ".animate-bounce-in {"
209. [Style_Definition] Line:332 CSS = "animation: bounceIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);"
210. [Style_Definition] Line:333 CSS = "}"
211. [Style_Definition] Line:334 CSS = "@keyframes bounceIn {"
212. [Style_Definition] Line:335 CSS = "0% { transform: scale(0); opacity: 0; }"
213. [Style_Definition] Line:336 CSS = "60% { transform: scale(1.1); }"
214. [Style_Definition] Line:337 CSS = "100% { transform: scale(1); opacity: 1; }"
215. [Style_Definition] Line:338 CSS = "}"
